{"ast":null,"code":"import _slicedToArray from\"/Users/yanyixue/Desktop/HTML, CSS, JS/Learning react/Food-Order-App/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import react,{useContext,useEffect,useState}from\"react\";// components to import\nimport CartIcon from\"../Cart/CartIcon\";import CartContext from\"../Context/CartContext\";// css\nimport classes from\"./HeaderCartButton.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HeaderCartButton=function HeaderCartButton(props){var cartCtx=useContext(CartContext);// number of items in cart (reduce() , curNumber takes initial value which is value on right and goes thru arr)\nvar totalQuantityOfCartItems=cartCtx.items.reduce(function(curNumber,item){return curNumber+item.amount;},0);// state  to manage button animation\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),btnIsHighlighted=_useState2[0],setBtnIsHighlighted=_useState2[1];// destructure item property from context\nvar items=cartCtx.items;// btnClasses animation appears when btn is highlighted\nvar btnClasses=\"\".concat(classes.button,\" \").concat(btnIsHighlighted?classes.bump:\"\");useEffect(function(){// if no items, no bump, ie page first load wont have animation \nif(items.length===0){return;}setBtnIsHighlighted(true);// after a while, reset state\nvar timer=setTimeout(function(){setBtnIsHighlighted(false);},150);// cleanup function \nreturn function(){clearTimeout(timer);};},[items]);return/*#__PURE__*/_jsx(react.Fragment,{children:/*#__PURE__*/_jsxs(\"button\",{className:btnClasses,onClick:props.onClick,children:[/*#__PURE__*/_jsx(\"span\",{className:classes.icon,children:/*#__PURE__*/_jsx(CartIcon,{})}),/*#__PURE__*/_jsx(\"span\",{children:\"Your Cart\"}),/*#__PURE__*/_jsx(\"span\",{className:classes.ctQuantity,children:totalQuantityOfCartItems})]})});};export default HeaderCartButton;","map":{"version":3,"sources":["/Users/yanyixue/Desktop/HTML, CSS, JS/Learning react/Food-Order-App/src/components/Header/HeaderCartButton.js"],"names":["react","useContext","useEffect","useState","CartIcon","CartContext","classes","HeaderCartButton","props","cartCtx","totalQuantityOfCartItems","items","reduce","curNumber","item","amount","btnIsHighlighted","setBtnIsHighlighted","btnClasses","button","bump","length","timer","setTimeout","clearTimeout","onClick","icon","ctQuantity"],"mappings":"yJAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA6BC,SAA7B,CAAyCC,QAAzC,KAAyD,OAAzD,CAEA;AACA,MAAOC,CAAAA,QAAP,KAAqB,kBAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,wBAAxB,CACA;AACA,MAAOC,CAAAA,OAAP,KAAoB,+BAApB,C,wFAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,KAAD,CAAW,CAClC,GAAMC,CAAAA,OAAO,CAAGR,UAAU,CAACI,WAAD,CAA1B,CACA;AACA,GAAMK,CAAAA,wBAAwB,CAAGD,OAAO,CAACE,KAAR,CAAcC,MAAd,CAAqB,SAACC,SAAD,CAAYC,IAAZ,CAAqB,CACzE,MAAOD,CAAAA,SAAS,CAAGC,IAAI,CAACC,MAAxB,CACD,CAFgC,CAE9B,CAF8B,CAAjC,CAIA;AACA,cAAgDZ,QAAQ,CAAC,KAAD,CAAxD,wCAAOa,gBAAP,eAAyBC,mBAAzB,eAEA;AACA,GAAQN,CAAAA,KAAR,CAAkBF,OAAlB,CAAQE,KAAR,CAEA;AACA,GAAMO,CAAAA,UAAU,WAAMZ,OAAO,CAACa,MAAd,aAAwBH,gBAAgB,CAAEV,OAAO,CAACc,IAAV,CAAiB,EAAzD,CAAhB,CACAlB,SAAS,CAAC,UAAM,CACd;AACA,GAAIS,KAAK,CAACU,MAAN,GAAiB,CAArB,CAAwB,CACpB,OACH,CACDJ,mBAAmB,CAAC,IAAD,CAAnB,CACA;AACA,GAAMK,CAAAA,KAAK,CAAEC,UAAU,CAAC,UAAM,CAC1BN,mBAAmB,CAAC,KAAD,CAAnB,CACH,CAFsB,CAErB,GAFqB,CAAvB,CAIA;AACA,MAAO,WAAM,CACTO,YAAY,CAACF,KAAD,CAAZ,CACH,CAFD,CAGD,CAfQ,CAeN,CAACX,KAAD,CAfM,CAAT,CAiBA,mBACE,KAAC,KAAD,CAAO,QAAP,wBACE,gBAAQ,SAAS,CAAEO,UAAnB,CAA+B,OAAO,CAAEV,KAAK,CAACiB,OAA9C,wBACE,aAAM,SAAS,CAAEnB,OAAO,CAACoB,IAAzB,uBACE,KAAC,QAAD,IADF,EADF,cAIE,mCAJF,cAKE,aAAM,SAAS,CAAEpB,OAAO,CAACqB,UAAzB,UAAsCjB,wBAAtC,EALF,GADF,EADF,CAWD,CA3CD,CA6CA,cAAeH,CAAAA,gBAAf","sourcesContent":["import react, { useContext , useEffect , useState } from \"react\";\n\n// components to import\nimport CartIcon from \"../Cart/CartIcon\";\nimport CartContext from \"../Context/CartContext\";\n// css\nimport classes from \"./HeaderCartButton.module.css\";\n\nconst HeaderCartButton = (props) => {\n  const cartCtx = useContext(CartContext);\n  // number of items in cart (reduce() , curNumber takes initial value which is value on right and goes thru arr)\n  const totalQuantityOfCartItems = cartCtx.items.reduce((curNumber, item) => {\n    return curNumber + item.amount;\n  }, 0);\n\n  // state  to manage button animation\n  const [btnIsHighlighted, setBtnIsHighlighted] = useState(false);\n\n  // destructure item property from context\n  const { items } = cartCtx;\n\n  // btnClasses animation appears when btn is highlighted\n  const btnClasses = `${classes.button} ${btnIsHighlighted? classes.bump : \"\"}`;\n  useEffect(() => {\n    // if no items, no bump, ie page first load wont have animation \n    if (items.length === 0) {\n        return;\n    }\n    setBtnIsHighlighted(true)\n    // after a while, reset state\n    const timer =setTimeout(() => {\n        setBtnIsHighlighted(false)\n    },150)\n\n    // cleanup function \n    return () => {\n        clearTimeout(timer);\n    }\n  }, [items])\n\n  return (\n    <react.Fragment>\n      <button className={btnClasses} onClick={props.onClick}>\n        <span className={classes.icon}>\n          <CartIcon></CartIcon>\n        </span>\n        <span>Your Cart</span>\n        <span className={classes.ctQuantity}>{totalQuantityOfCartItems}</span>\n      </button>\n    </react.Fragment>\n  );\n};\n\nexport default HeaderCartButton;\n"]},"metadata":{},"sourceType":"module"}